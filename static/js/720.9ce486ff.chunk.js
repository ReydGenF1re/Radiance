"use strict";(self.webpackChunkindividual_project=self.webpackChunkindividual_project||[]).push([[720],{8720:(e,n,s)=>{s.r(n),s.d(n,{default:()=>C});var r=s(2791),i=s(4420),o=s(7519);const a="Friends_friends__HPkWN",t={pagination:"Paginator_pagination__2SPX9",selectedPage:"Paginator_selectedPage__aiqXq"};var l=s(184);function d(e){let{currentPage:n,onPageChanged:s,pageSize:r,totalFriendsCount:i}=e;const o=Math.ceil(i/r);let a,d=[];for(let t=1;t<=o;t++)d.push(t);return a=n-3<0?d.slice(0,5):d.slice(n-3,n+2),(0,l.jsx)("ul",{className:t.pagination,children:a.map((e=>(0,l.jsx)("li",{onClick:()=>s(e),className:n===e&&t.selectedPage,children:e})))})}const _={friend:"Friend_friend__nUNMN",friend__inner:"Friend_friend__inner__Rt889",friend__left:"Friend_friend__left__SKMOx",friend__avatar:"Friend_friend__avatar__4vuA3",friend__name:"Friend_friend__name__l0arp",friend__status:"Friend_friend__status__dtqHo",friend__right:"Friend_friend__right__EuJHb",friend__follow_btn:"Friend_friend__follow_btn__5M7V+",friend__followers:"Friend_friend__followers__We2b0"};var f=s(8478),g=s(1087);function c(e){var n;let{follow:s,followingInProgress:r,unfollow:i,friend:o,key:a}=e;return(0,l.jsx)("div",{className:_.friend,children:(0,l.jsxs)("div",{className:_.friend__inner,children:[(0,l.jsxs)("div",{className:_.friend__left,children:[(0,l.jsx)("img",{className:_.friend__avatar,src:null!==(n=o.photos.small)&&void 0!==n?n:f,alt:""}),(0,l.jsx)("div",{className:_.friend__info,children:(0,l.jsxs)(g.OL,{to:"/profile/"+o.id,children:[(0,l.jsx)("span",{className:_.friend__name,children:o.name}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:_.friend__status,children:o.status?'"'.concat(o.status,'"'):""})]})})]}),(0,l.jsx)("div",{className:_.friend__right,children:o.followed?(0,l.jsx)("button",{disabled:r.some((e=>e===o.id)),className:_.friend__follow_btn,onClick:()=>i(o),children:"Unfollow"}):(0,l.jsx)("button",{disabled:r.some((e=>e===o.id)),className:_.friend__follow_btn,onClick:()=>s(o),children:"Follow"})})]})},a)}function p(e){let{currentPage:n,follow:s,followingInProgress:r,friends:i,onPageChanged:o,pageSize:t,totalFriendsCount:_,unfollow:f}=e;return(0,l.jsxs)("section",{className:a,children:[i.map((e=>(0,l.jsx)(c,{friend:e,followingInProgress:r,follow:s,unfollow:f},e.id))),(0,l.jsx)(d,{currentPage:n,pageSize:t,totalFriendsCount:_,onPageChanged:o})]})}var u=s(4307);const h=e=>e.friendsPage.friends,P=e=>e.friendsPage.pageSize,w=e=>e.friendsPage.totalFriendsCount,m=e=>e.friendsPage.currentPage,j=e=>e.friendsPage.isFetching,x=e=>e.friendsPage.followingInProgress;class F extends r.Component{constructor(){super(...arguments),this.onPageChanged=e=>{this.props.setCurrentPage(e),this.props.getUsers(e,this.props.pageSize)}}componentDidMount(){const{currentPage:e,pageSize:n,getUsers:s}=this.props;s(e,n)}render(){return(0,l.jsx)(l.Fragment,{children:this.props.isFetching?(0,l.jsx)(u.Z,{}):(0,l.jsx)(p,{totalFriendsCount:this.props.totalFriendsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,friends:this.props.friends,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})})}}const C=(0,i.$j)((e=>({friends:h(e),pageSize:P(e),totalFriendsCount:w(e),currentPage:m(e),isFetching:j(e),followingInProgress:x(e)})),{follow:o.ZN,unfollow:o.fv,setCurrentPage:o.D4,toggleFollowing:o.Wi,getUsers:o.Z_})(F)},8478:(e,n,s)=>{e.exports=s.p+"static/media/user.9532a9f138a7e3251d4a.jpg"}}]);
//# sourceMappingURL=720.9ce486ff.chunk.js.map
{"version":3,"file":"static/js/850.b2f2357f.chunk.js","mappings":"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","sources":["assets/common/FormsControls/FormsControls.js","webpack://individual-project/./src/components/Messages/Messages.module.css?8e7e","components/Messages/Dialog/Dialog.jsx","components/Messages/Message/Message.jsx","components/Messages/Messages.jsx","hoc/withAuthRedirect.jsx","components/Messages/MessagesContainer.jsx","utilities/validators/validators.js","webpack://individual-project/./src/assets/common/FormsControls/FormControls.module.css?0ec0"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./FormControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../../../utilities/validators/validators\";\r\n\r\n\r\n\r\nexport const Input = ({input,meta:{touched,error}, ...props}) => {\r\n    const hasError = error && touched\r\n    return <>\r\n        <input {...props} {...input}/>\r\n        {hasError && <div className={styles.errorText}>{error}</div>}\r\n    </>\r\n\r\n}\r\nexport const CreateField = ({children, id, name, type, validators=[]}) => {\r\n    return <>\r\n        <Field type={type} id={id} validate={validators} component={Input} name={name}/>\r\n        <label htmlFor={id}>\r\n            {children}\r\n        </label></>\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"dialogs__inner\":\"Messages_dialogs__inner__uGXou\",\"dialog__item\":\"Messages_dialog__item__mXPvJ\",\"dialog__username\":\"Messages_dialog__username__j5H5v\",\"dialogs__lists\":\"Messages_dialogs__lists__CaoGx\",\"message\":\"Messages_message__9di0o\",\"messages\":\"Messages_messages__hK+2G\",\"message__user\":\"Messages_message__user__MFz2P\",\"user__avatar\":\"Messages_user__avatar__++X8u\",\"user__name\":\"Messages_user__name__jIC0C\",\"user__info\":\"Messages_user__info__SeC20\",\"message__text\":\"Messages_message__text__K5eFl\",\"newMessage\":\"Messages_newMessage__cC0nm\",\"message__ava\":\"Messages_message__ava__b2j4L\",\"message__input\":\"Messages_message__input__+I5rE\",\"message__btn\":\"Messages_message__btn__VYKgP\"};","import React from \"react\";\r\nimport styles from \"../Messages.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Dialog = function ({name, id}) {\r\n    return <li className={styles.dialog__item}>\r\n        <NavLink to={'/messages/' + id}>\r\n            <img className={styles.user__avatar}\r\n                 src=\"https://i.ytimg.com/vi/vy6ND7afqLo/hqdefault.jpg\"\r\n                 alt=\"Avatar\"/>\r\n            <span className={styles.dialog__username}>{name}</span>\r\n        </NavLink>\r\n    </li>\r\n}\r\nexport default Dialog;","import React from \"react\";\r\nimport styles from '../Messages.module.css'\r\nconst Message = function ({name, data, message}){\r\n    return <div className={styles.message}>\r\n        <div className={styles.message__user}>\r\n            <img className={styles.user__avatar}\r\n                 src=\"https://i.ytimg.com/vi/vy6ND7afqLo/hqdefault.jpg\"\r\n                 alt=\"Avater\"/>\r\n            <div className={styles.user__info}>\r\n                <span className={styles.user__name}>{name}</span>\r\n                <span className={styles.user__data}>{data}</span>\r\n            </div>\r\n        </div>\r\n        <div className={styles.message__text}>\r\n            {message}\r\n        </div>\r\n    </div>}\r\nexport default Message;","import React from \"react\";\r\nimport styles from './Messages.module.css'\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../assets/common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utilities/validators/validators\";\r\nconst maxLength = maxLengthCreator(400)\r\n\r\nexport default function Messages({messagesPage,sendMessage,username,isAuth}) {\r\n    const state = messagesPage;\r\n    const dialogsData = state.dialogs.map(d => <Dialog name={d.name} id={d.id} key={d.id}/>);\r\n    const messagesData = state.messages.map(m => <Message name={m.name} id={m.id} data={m.data} message={m.message} key={m.id}/>);\r\n    const addNewMessage = ({newMessageBody}) => {\r\n        sendMessage(username, newMessageBody)\r\n    }\r\n    if(!isAuth) return <Navigate to={'/login'} />\r\n\r\n    return (\r\n        <section>\r\n            <div className={styles.dialogs__inner}>\r\n                <ul className={styles.dialogs__lists}>\r\n                    {dialogsData}\r\n                </ul>\r\n                <div>\r\n                    <div className={styles.messages}>\r\n                        {messagesData}\r\n                    </div>\r\n                    <AddMessageFormRedux onSubmit={addNewMessage} />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\nconst MessageForm = ({handleSubmit}) => {\r\n    return <form onSubmit={handleSubmit} className={styles.newMessage}>\r\n        <img className={styles.message__ava} src='https://i.ytimg.com/vi/vy6ND7afqLo/hqdefault.jpg' alt=\"Avatar\"/>\r\n        <Field validate={[required,maxLength]} name={'newMessageBody'} placeholder=\"Type a message...\" className={styles.message__input} type=\"text\" component={Input}/>\r\n        <button className={styles.message__btn} type=\"submit\"></button>\r\n    </form>\r\n}\r\nconst AddMessageFormRedux = reduxForm({form:\"addMessageForm\"})(MessageForm)","import React from 'react';\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth:state.auth.isAuth,\r\n})\r\nconst WithAuthRedirect = (Component) => {\r\n\r\n        class AuthRedirectComponent extends React.Component{\r\n            render() {\r\n                if(!this.props.isAuth) return <Navigate to={'/login'}/>\r\n                return <Component {...this.props} />\r\n            }\r\n        }\r\n\r\n\r\n    return connect(mapStateToPropsForRedirect)(AuthRedirectComponent);\r\n};\r\nexport default WithAuthRedirect\r\n","import React from \"react\";\r\nimport {sendMessageCreator} from \"../../redux/messages-reducer\";\r\nimport Messages from \"./Messages\";\r\nimport {connect} from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage:state.messagesPage,\r\n        username:\"Erlich\",\r\n    };\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage(name,newMessageBody){dispatch(sendMessageCreator(name,newMessageBody))},\r\n    }\r\n}\r\n\r\nexport default compose( connect(mapStateToProps,mapDispatchToProps),withAuthRedirect)(Messages);","export const required = (value) => value ? undefined : 'Field is required'\r\nexport const maxLengthCreator = (maxLength) => (value) => value && value.length > maxLength ? `Max length is ${maxLength} symbols` : undefined\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"errorText\":\"FormControls_errorText__SnW2q\",\"summaryError\":\"FormControls_summaryError__mS76w\"};"],"names":["Input","_ref","input","meta","touched","error","props","hasError","_jsxs","_Fragment","children","_jsx","className","styles","errorText","CreateField","_ref2","id","name","type","validators","Field","validate","component","htmlFor","dialog__item","NavLink","to","user__avatar","src","alt","dialog__username","data","message","message__user","user__info","user__name","user__data","message__text","maxLength","maxLengthCreator","AddMessageFormRedux","reduxForm","form","_ref3","handleSubmit","onSubmit","newMessage","message__ava","required","placeholder","message__input","message__btn","mapStateToPropsForRedirect","state","isAuth","auth","Component","AuthRedirectComponent","React","render","this","Navigate","connect","compose","messagesPage","username","dispatch","sendMessage","newMessageBody","sendMessageCreator","withAuthRedirect","dialogsData","dialogs","map","d","Dialog","messagesData","messages","m","Message","dialogs__inner","dialogs__lists","value","undefined","length","concat"],"sourceRoot":""}
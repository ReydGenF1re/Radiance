"use strict";(self.webpackChunkindividual_project=self.webpackChunkindividual_project||[]).push([[815],{6774:(s,t,e)=>{e.d(t,{I:()=>_,S:()=>n});e(2791);var o=e(5578),a=e(6139),r=e(184);const _=s=>{let{input:t,meta:{touched:e,error:a},..._}=s;const n=a&&e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{..._,...t}),n&&(0,r.jsx)("div",{className:o.Z.errorText,children:a})]})},n=s=>{let{children:t,id:e,name:o,type:n,validators:i=[]}=s;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{type:n,id:e,validate:i,component:_,name:o}),(0,r.jsx)("label",{htmlFor:e,children:t})]})}},5815:(s,t,e)=>{e.r(t),e.d(t,{default:()=>w});var o=e(2791),a=e(6070);const r={section__title:"MyPosts_section__title__Rdkq+",newPost:"MyPosts_newPost__Lp0O3",post__ava:"MyPosts_post__ava__+MrS8",post__input:"MyPosts_post__input__tChNo",post__btn:"MyPosts_post__btn__wIbDs"},_={post:"Post_post__Xs5SA",post__ava:"Post_post__ava__FDLSu",post__user:"Post_post__user__hKYFP",post__username:"Post_post__username__Ud8II",post__time:"Post_post__time__QZ1vT",post__text:"Post_post__text__fJqDs",post__buttons:"Post_post__buttons__NQ4g8",post__btnLike:"Post_post__btnLike__Eu38q",post__btnComment:"Post_post__btnComment__cOdZ8",post__btnShare:"Post_post__btnShare__rgxT2"};var n=e(184);function i(s){let{name:t,date:e,message:o,likes:a,comments:r,shares:i}=s;return(0,n.jsxs)("article",{className:_.post,children:[(0,n.jsxs)("div",{className:_.post__user,children:[(0,n.jsx)("img",{className:_.post__ava,src:"https://cdn.mos.cms.futurecdn.net/wadCYrEXA7JKngzFMgECzh-1200-80.jpg",alt:"Avatar"}),(0,n.jsxs)("div",{className:_.post__userDescr,children:[(0,n.jsx)("span",{className:_.post__username,children:t}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:_.post__time,children:e})]})]}),(0,n.jsx)("p",{className:_.post__text,children:o}),(0,n.jsxs)("div",{className:_.post__buttons,children:[(0,n.jsxs)("div",{className:_.post__like,children:[(0,n.jsx)("button",{className:_.post__btnLike}),(0,n.jsx)("span",{className:_.post__likes,children:a})]}),(0,n.jsxs)("div",{className:_.post__comment,children:[(0,n.jsx)("button",{className:_.post__btnComment}),(0,n.jsx)("span",{className:_.post__comments,children:r})]}),(0,n.jsxs)("div",{className:_.post__share,children:[(0,n.jsx)("button",{className:_.post__btnShare}),(0,n.jsx)("span",{className:_.post__shares,children:i})]})]})]})}var l=e(8478),p=e(6139),u=e(704),c=e(1557),m=e(6774);const d=(0,c.D)(400),h=o.memo((s=>{let{addPost:t,posts:e}=s;const o=e.map((s=>(0,n.jsx)(i,{name:s.name,likes:s.likes,shares:s.shares,comments:s.comments,date:s.date,message:s.message})));return(0,n.jsxs)("section",{className:r.posts,children:[(0,n.jsx)(f,{onSubmit:s=>{let{newPostText:e}=s;t(e)}}),o]})})),f=(0,u.Z)({form:"addPostForm"})((s=>{let{handleSubmit:t}=s;return(0,n.jsxs)("form",{onSubmit:t,className:r.newPost,children:[(0,n.jsx)("img",{className:r.post__ava,src:l,alt:"Avatar"}),(0,n.jsx)(p.Z,{component:m.I,name:"newPostText",className:r.post__input,validate:[c.C,d],placeholder:"What\u2019s on your mind?",type:"text"}),(0,n.jsx)("button",{className:r.post__btn})]})}));var x=e(4420);const P=(0,x.$j)((s=>({newPostText:s.profilePage.newPostText,posts:s.profilePage.posts})),((s,t)=>({addPost:e=>{s((0,a.WA)(t.profile.fullName,e))}})))(h),j={user:"ProfileInfo_user__se6Ar",user__background:"ProfileInfo_user__background__IlvBQ",user__profile:"ProfileInfo_user__profile__7MWPu",user__about:"ProfileInfo_user__about__XGCt2",user__ava:"ProfileInfo_user__ava__1OjQP",user__name:"ProfileInfo_user__name__IWXOl",user__status:"ProfileInfo_user__status__mVg3P",section__title:"ProfileInfo_section__title__+ZwG8",about:"ProfileInfo_about__Hn3NF",newPost:"ProfileInfo_newPost__8TF3K",post__ava:"ProfileInfo_post__ava__Tct4W",post__input:"ProfileInfo_post__input__2OqV-",post__btn:"ProfileInfo_post__btn__QZ8oZ",status:"ProfileInfo_status__pm66M",statusBlock:"ProfileInfo_statusBlock__+qyIR"};var g=e(4307);const v=s=>{const[t,e]=(0,o.useState)(!1),[a,r]=(0,o.useState)(s.status);return(0,o.useEffect)((()=>{r(s.status)}),[s.status]),(0,n.jsx)("div",{className:j.statusBlock,children:t?(0,n.jsx)("input",{value:a,onChange:s=>{r(s.target.value)},onBlur:()=>{e(!1),s.updateStatus(a)},className:j.status,type:"text",autoFocus:!0}):(0,n.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"----"})})};function b(s){var t;let{profile:e,status:o,updateStatus:a,isOwner:r,savePhoto:_}=s;if(!e)return(0,n.jsx)(g.Z,{});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:j.user,children:[(0,n.jsx)("img",{className:j.user__background,src:"https://img.freepik.com/premium-photo/palms-exotic-pattern-palm-trees-on-blue-sky-palm-at-tropical-coast-coconut-tree-tropical-backdrop-on-sun-light-sky_265223-30591.jpg",alt:"Background: palms"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("img",{className:j.user__profile,src:null!==(t=e.photos.large)&&void 0!==t?t:l,alt:"Avatar"}),r&&(0,n.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&_(s.target.files[0])},hidden:!0})]}),(0,n.jsxs)("div",{className:j.user__about,children:[(0,n.jsx)("h2",{className:j.user__name,children:e.fullName}),(0,n.jsx)(v,{status:o,updateStatus:a})]})]}),e.aboutMe&&(0,n.jsxs)("section",{className:j.about,children:[(0,n.jsx)("h2",{className:j.section__title,children:"About"}),(0,n.jsx)("p",{children:e.aboutMe})]})]})}function N(s){let{profile:t,status:e,updateStatus:o,isOwner:a,savePhoto:r}=s;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{savePhoto:r,isOwner:a,profile:t,status:e,updateStatus:o}),(0,n.jsx)(P,{profile:t})]})}var I=e(7689),k=e(1154);class S extends o.Component{refreshProfile(){let s=this.props.router.params.userID;s||(s=this.props.authorizedUserID,s||this.props.router.navigate("/login/")),s&&this.props.getUserProfile(s),s&&this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,t,e){this.props.router.params.userID!==s.router.params.userID&&this.refreshProfile()}render(){return(0,n.jsx)(n.Fragment,{children:this.props.isFetching?(0,n.jsx)(g.Z,{}):(0,n.jsx)(N,{isOwner:!this.props.router.params.userID,...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})})}}const w=(0,k.qC)((0,x.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,isFetching:s.profilePage.isFetching,authorizedUserID:s.auth.userID,isAuth:s.auth.isAuth})),{setUserProfile:a.$l,getUserProfile:a.et,getStatus:a.lR,updateStatus:a.Nf,savePhoto:a.Ju}),(function(s){return function(t){let e=(0,I.TH)(),o=(0,I.s0)(),a=(0,I.UO)();return(0,n.jsx)(s,{...t,router:{location:e,navigate:o,params:a}})}}))(S)},1557:(s,t,e)=>{e.d(t,{C:()=>o,D:()=>a});const o=s=>s?void 0:"Field is required",a=s=>t=>t&&t.length>s?"Max length is ".concat(s," symbols"):void 0},5578:(s,t,e)=>{e.d(t,{Z:()=>o});const o={errorText:"FormControls_errorText__SnW2q",summaryError:"FormControls_summaryError__mS76w"}},8478:(s,t,e)=>{s.exports=e.p+"static/media/user.9532a9f138a7e3251d4a.jpg"}}]);
//# sourceMappingURL=815.337970ec.chunk.js.map